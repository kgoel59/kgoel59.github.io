<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="572CpV_LTBRfv5HZ0v-VN2J6r6cZE--b8udH0_fg1Jo"> <meta name="msvalidate.01" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Cpp Libs | Karan Goel </title> <meta name="author" content="Karan Goel"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?acbd3e65a6723e88b5535b00becb6b4d"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://karangoel59.com/blog/2025/cpplibs/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Karan </span> Goel </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Cpp Libs</h1> <p class="post-meta"> May 03, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/learning"> <i class="fa-solid fa-hashtag fa-sm"></i> learning</a>   <a href="/blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code</a>     ·   <a href="/blog/category/uow"> <i class="fa-solid fa-tag fa-sm"></i> Uow</a>   <a href="/blog/category/learning"> <i class="fa-solid fa-tag fa-sm"></i> learning</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="static-and-shared-libraries-in-c">Static and Shared Libraries in C++</h1> <p>Want to make your c++ code modular?</p> <p>Then Just create a library</p> <h2 id="what-is-a-static-library">What is a static library</h2> <p><strong>Static Linking and Static Libraries</strong> is the result of the linker making copy of all used library functions to the executable file. Static Linking creates larger binary files, and need more space on disk and main memory. Examples of static libraries (libraries which are statically linked) are, <strong><em>.a</em></strong> files in Linux and <strong><em>.lib</em></strong> files in Windows.</p> <h2 id="what-is-a-shared-library">What is a shared library</h2> <p><strong>Shared libraries</strong> are <strong>.so</strong> (or in Windows <strong>.dll</strong>, or in OS X <strong>.dylib</strong>) files.</p> <p>These are linked dynamically simply including the address of the library (whereas static linking is a waste of space). Dynamic linking links the libraries at the run-time. Thus, all the functions are in a special place in memory space, and every program can access them, without having multiple copies of them.</p> <h2 id="here-are-the-quick-steps-to-create-a-static-or-shared-libraries-using-g">Here are the quick steps to create a static or shared libraries using g++</h2> <p>Create header file with declaration</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>calc.hpp

#ifndef CALC

#define CALC

double calcSqrt(double n);

#endif
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>calc.cpp

#include &lt;cmath&gt;

#include "calc.hpp"

  

double calcSqrt(double n)

{

return sqrt(n);

}
</code></pre></div></div> <p>Create Cpp file with code</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>calc.cpp

#include &lt;cmath&gt;

#include "calc.hpp"

  

double calcSqrt(double n)

{

return sqrt(n);

}
</code></pre></div></div> <p>Create a test program to use that code</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;iostream&gt;

#include "calc.hpp"

  

using namespace std;

  

int main()

{

cout&lt;&lt;calcSqrt(16.0);

}
</code></pre></div></div> <p>Compile the cpp</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ -c calc.cpp main.cpp

</code></pre></div></div> <p>Create executable normally</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ -o program main.o calc.o -lm

</code></pre></div></div> <h2 id="creating-a-static-library">Creating a static library</h2> <p>Create a static library libcalc</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ar crv libcalc.a calc.o

</code></pre></div></div> <p>Create executabe with static library</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ -o program main.o libcalc.a -lm

</code></pre></div></div> <p>or</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ -o program main.o -L. -lcalc -lm

</code></pre></div></div> <h2 id="creating-a-shared-library">Creating a shared library</h2> <p>Creating a shared library libcalc</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ -shared -fPIC -o libcalc.so calc.o

</code></pre></div></div> <p>Create executabe with shared library</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
g++ program main.o libcalc.so -lm

</code></pre></div></div> <h2 id="some-useful-commands">Some useful commands</h2> <p><strong>ar</strong> : creates static libraries</p> <p><strong>ldd</strong> : lists the shared libraries on which the object binary is dependent</p> <p><strong>nm</strong> : lists the symbols defined in the symbol table of an object file or a static library</p> <p><strong>objdump</strong> : to display all the information in an object binary file</p> <p><strong>strings</strong> : list all the printable strings in a binary file</p> <p><strong>strip</strong> : discards all symbols from object files</p> <p><strong>c++filt</strong> : demangle low-level names into user-level names</p> <h2 id="refrence">Refrence</h2> <p><a href="https://www.bogotobogo.com/cplusplus/libraries.php" rel="external nofollow noopener" target="_blank">https://www.bogotobogo.com/cplusplus/libraries.php</a></p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/python/">CSIT881 - Programming and Data Structures</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/sose-week3/">CSCI927 - Service-Oriented Software Engineering Week 3</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/database/">CSIT882 - Data Management Systems</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/dev-env/">Setting Up Dev Environment</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/sose-week2/">CSCI927 - Service-Oriented Software Engineering Week 2</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"kgoel59/kgoel59.github.io","data-repo-id":"R_kgDOLGCvFA","data-category":"Q&A","data-category-id":"DIC_kwDOLGCvFM4CcfRJ","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Karan Goel. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: October 11, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script type="text/javascript">$(function(){$('[data-toggle="tooltip"]').tooltip()});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-M3ERZCHGHH"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-M3ERZCHGHH");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>